{"ast":null,"code":"// src/pages/TeamDetails.js - CREATE THIS FILE\nimport React,{useState,useEffect}from'react';import{useParams}from'react-router-dom';import{Users,Trophy,MapPin}from'lucide-react';import{getTeam,joinTeam}from'../utils/api';import{useAuth}from'../context/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TeamDetails=()=>{var _team$location;const{id}=useParams();const{user}=useAuth();const[team,setTeam]=useState(null);const[loading,setLoading]=useState(true);useEffect(()=>{fetchTeamDetails();},[id]);const fetchTeamDetails=async()=>{try{const res=await getTeam(id);setTeam(res.data.team);}catch(error){console.error('Error fetching team:',error);}finally{setLoading(false);}};const handleJoinTeam=async()=>{try{await joinTeam(id);alert('Successfully joined team!');fetchTeamDetails();}catch(error){console.error('Error joining team:',error);alert('Failed to join team');}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center min-h-screen\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-green-500\"})});}if(!team){return/*#__PURE__*/_jsx(\"div\",{className:\"container mx-auto px-4 py-8\",children:\"Team not found\"});}const isMember=team.members.some(m=>m.user._id===(user===null||user===void 0?void 0:user._id));return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto px-4 py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8 mb-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold mb-4\",children:team.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400 mb-4\",children:team.description}),((_team$location=team.location)===null||_team$location===void 0?void 0:_team$location.city)&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 text-sm\",children:[/*#__PURE__*/_jsx(MapPin,{size:16}),/*#__PURE__*/_jsx(\"span\",{children:team.location.city})]})]}),!isMember&&user&&team.lookingForPlayers&&/*#__PURE__*/_jsx(\"button\",{onClick:handleJoinTeam,className:\"px-6 py-3 bg-gradient-to-r from-green-500 to-blue-500 text-white rounded-lg hover:opacity-90\",children:\"Join Team\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-bold mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(Users,{className:\"mr-2\"}),\"Members (\",team.members.length,\"/\",team.maxMembers,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:team.members.map(member=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-gradient-to-r from-green-400 to-blue-500 rounded-full flex items-center justify-center text-white font-bold\",children:member.user.name.charAt(0)}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold\",children:member.user.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:member.role})]})]},member.user._id))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-bold mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(Trophy,{className:\"mr-2\"}),\"Statistics\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Matches Played:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-bold\",children:team.statistics.matchesPlayed})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Matches Won:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-bold text-green-500\",children:team.statistics.matchesWon})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Team Rating:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-bold text-blue-500\",children:team.statistics.teamRating})]})]})]})]})]});};export default TeamDetails;","map":{"version":3,"names":["React","useState","useEffect","useParams","Users","Trophy","MapPin","getTeam","joinTeam","useAuth","jsx","_jsx","jsxs","_jsxs","TeamDetails","_team$location","id","user","team","setTeam","loading","setLoading","fetchTeamDetails","res","data","error","console","handleJoinTeam","alert","className","children","isMember","members","some","m","_id","name","description","location","city","size","lookingForPlayers","onClick","length","maxMembers","map","member","charAt","role","statistics","matchesPlayed","matchesWon","teamRating"],"sources":["C:/Users/yashk/TurfArena/frontend/src/pages/TeamDetails.js"],"sourcesContent":["// src/pages/TeamDetails.js - CREATE THIS FILE\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { Users, Trophy, MapPin } from 'lucide-react';\r\nimport { getTeam, joinTeam } from '../utils/api';\r\nimport { useAuth } from '../context/AuthContext';\r\n\r\nconst TeamDetails = () => {\r\n  const { id } = useParams();\r\n  const { user } = useAuth();\r\n  const [team, setTeam] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    fetchTeamDetails();\r\n  }, [id]);\r\n\r\n  const fetchTeamDetails = async () => {\r\n    try {\r\n      const res = await getTeam(id);\r\n      setTeam(res.data.team);\r\n    } catch (error) {\r\n      console.error('Error fetching team:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleJoinTeam = async () => {\r\n    try {\r\n      await joinTeam(id);\r\n      alert('Successfully joined team!');\r\n      fetchTeamDetails();\r\n    } catch (error) {\r\n      console.error('Error joining team:', error);\r\n      alert('Failed to join team');\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-screen\">\r\n        <div className=\"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-green-500\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!team) {\r\n    return <div className=\"container mx-auto px-4 py-8\">Team not found</div>;\r\n  }\r\n\r\n  const isMember = team.members.some(m => m.user._id === user?._id);\r\n\r\n  return (\r\n    <div className=\"container mx-auto px-4 py-8\">\r\n      <div className=\"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8 mb-6\">\r\n        <div className=\"flex items-start justify-between\">\r\n          <div>\r\n            <h1 className=\"text-3xl font-bold mb-4\">{team.name}</h1>\r\n            <p className=\"text-gray-600 dark:text-gray-400 mb-4\">{team.description}</p>\r\n            {team.location?.city && (\r\n              <div className=\"flex items-center space-x-2 text-sm\">\r\n                <MapPin size={16} />\r\n                <span>{team.location.city}</span>\r\n              </div>\r\n            )}\r\n          </div>\r\n          {!isMember && user && team.lookingForPlayers && (\r\n            <button\r\n              onClick={handleJoinTeam}\r\n              className=\"px-6 py-3 bg-gradient-to-r from-green-500 to-blue-500 text-white rounded-lg hover:opacity-90\"\r\n            >\r\n              Join Team\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n        <div className=\"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6\">\r\n          <h2 className=\"text-xl font-bold mb-4 flex items-center\">\r\n            <Users className=\"mr-2\" />\r\n            Members ({team.members.length}/{team.maxMembers})\r\n          </h2>\r\n          <div className=\"space-y-3\">\r\n            {team.members.map((member) => (\r\n              <div key={member.user._id} className=\"flex items-center space-x-3\">\r\n                <div className=\"w-10 h-10 bg-gradient-to-r from-green-400 to-blue-500 rounded-full flex items-center justify-center text-white font-bold\">\r\n                  {member.user.name.charAt(0)}\r\n                </div>\r\n                <div>\r\n                  <p className=\"font-semibold\">{member.user.name}</p>\r\n                  <p className=\"text-xs text-gray-500\">{member.role}</p>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6\">\r\n          <h2 className=\"text-xl font-bold mb-4 flex items-center\">\r\n            <Trophy className=\"mr-2\" />\r\n            Statistics\r\n          </h2>\r\n          <div className=\"space-y-3\">\r\n            <div className=\"flex justify-between\">\r\n              <span>Matches Played:</span>\r\n              <span className=\"font-bold\">{team.statistics.matchesPlayed}</span>\r\n            </div>\r\n            <div className=\"flex justify-between\">\r\n              <span>Matches Won:</span>\r\n              <span className=\"font-bold text-green-500\">{team.statistics.matchesWon}</span>\r\n            </div>\r\n            <div className=\"flex justify-between\">\r\n              <span>Team Rating:</span>\r\n              <span className=\"font-bold text-blue-500\">{team.statistics.teamRating}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TeamDetails;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}